<div class="page-wrapper" style="margin: 0; padding: 0;">
  <div class="sticky-header">
    <app-header-home></app-header-home>
  </div>
  <div class="content-wrapper disable-scrollbars" style="background-color: #F4F4F4; overflow: scroll;">
    <div class="content-home">
      <div class="home-container-accesos" style="margin-top: 30px;">
        <div class="row w100m0p0">
          <div class="col-1" style="margin: 0; padding: 0;">
            <div class="image-workspace-back" style="width: 30px; height: 20px; float: right; cursor: pointer;" (click)="regresar()"></div>
          </div> 
          <div class="col-11">
            <div class="row w100m0p0">
              <div class="col-8">
                <div class="titulo-proceso">
                  {{ tituloProceso }}
                </div>
                <div class="subtitulo-proceso">
                  Crea y edita a tus clientes frecuentes para enviarles facturas <br> rápidamente 
                </div>
              </div>

              <div class="col-4 bienvenida-cliente">
                ¡Buen día, {{ nombreCliente }}!
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="home-container-accesos" style="margin-top: 30px;">
        <div class="row w100m0p0">
          <div class="col-1"></div>
          <div class="col-10 px-4 p-4" style="background-color: #FFFFFF; min-height: 350px;">
            <div class="titulo-formulario">
              Cancelar CFDI
            </div>

            <form [formGroup]="form" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
              <div class="row">
                <div class="col-12">





                



              <div class="row" style="margin-top: 2%;">
                <div class="col-3">
                  <mat-form-field appearance="outline" style="font-size: 13px; height: 80px;" (click)="picker.open()" >
                    <mat-label>Fecha de inicio</mat-label>
                    <input readonly formControlName="inicial" matInput [matDatepicker]="picker"  >
                    <mat-hint>DD/MM/AAAA</mat-hint>
                    <mat-datepicker-toggle matSuffix [for]="picker" >
                        <mat-icon matDatepickerToggleIcon class="image-calendar-date-picker" ></mat-icon>
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
                </div>
                <!-- <div class="col-2"></div> -->
                <div class="col-3">
                  <mat-form-field appearance="outline" style="font-size: 13px; height: 80px;" (click)="picker2.open()" >
                    <mat-label>Fecha final</mat-label>
                    <input readonly formControlName="final" matInput [matDatepicker]="picker2"  >
                    <mat-hint>DD/MM/AAAA</mat-hint>
                    <mat-datepicker-toggle matSuffix [for]="picker2" >
                        <mat-icon matDatepickerToggleIcon class="image-calendar-date-picker" ></mat-icon>
                    </mat-datepicker-toggle>
                    <mat-datepicker #picker2></mat-datepicker>
                </mat-form-field>
                </div>
                <div class="col-1 d-flex justify-content-end">
                  <mat-divider vertical style="height: 100%;"></mat-divider>
                </div>
                <div class="col-5">
                  <mat-form-field appearance="outline" style="width: 100%; font-size: 16px; height: 80px;">
                    <mat-icon matPrefix class="ico-search"></mat-icon>
                    <mat-label>Buscar por número de orden</mat-label>
                    <input matInput formControlName="numeroOrden" id="tituloPaquete" name="tituloPaquete" minlength="3"/>
                    <!-- <mat-error *ngIf="!form.controls['tituloPaquete'].valid && form.controls['tituloPaquete'].touched">
                      {{ getError() }}
                    </mat-error> -->
                  </mat-form-field>
                </div>
              </div>


              <div class="row">
                <div class="col-12 d-flex justify-content-end">
                  <button mat-button class="btn-utaxme-secondary" style="max-width: 120px; font-size: 16px; font-weight: 600; height: 48px;display: flex; align-items: center; justify-content: center; margin: 20px;">
                    Regresar
                  </button>
                  <button mat-button class="btn-utaxme" style="max-width: 160px; font-size: 16px; font-weight: 600; height: 48px;display: flex; align-items: center; justify-content: center; margin: 20px;" (click)="buscar()
                  ">
                    Buscar facturas
                  </button>
                </div>
              </div>



              <div *ngIf="verTabla">

              
              <div class="col-12" >
                <mat-divider></mat-divider>
                  <div class="titulo-cuadrante" style="margin-top: 35px; margin-bottom: 53px;">Facturas emitidas (CFDI)</div>
                  <mat-divider></mat-divider>
              </div>

                  <table mat-table [dataSource]="listaResultado" class="table table-responsive table-bordered table-striped"
      style="border: solid 1px #ffffff; table-layout:fixed; padding: 0; margin: 0;">
      <ng-container matColumnDef="nOrden">
        <th mat-header-cell *matHeaderCellDef class="subtitulo-cuadrante center-text" style="text-align: center; vertical-align: middle;"> N° de orden </th>
        <td mat-cell *matCellDef="let element" style="padding: 8px; vertical-align: middle;"> {{element.nOrden}}
        </td>
      </ng-container>
      <ng-container matColumnDef="rfcReceptor">
        <th mat-header-cell *matHeaderCellDef class="subtitulo-cuadrante center-text" style="text-align: center; vertical-align: middle;"> rfc receptor
        </th>
        <td mat-cell *matCellDef="let element" style=" text-align: center;  padding: 8px; vertical-align: middle;">
          {{element.rfcReceptor}} </td>
      </ng-container>
      <ng-container matColumnDef="fechaEmision">
        <th mat-header-cell *matHeaderCellDef class="subtitulo-cuadrante center-text" style="text-align: center; vertical-align: middle;"> fecha Emisión
        </th>
        <td mat-cell *matCellDef="let element" style=" text-align: center;  padding: 8px; vertical-align: middle;">
          {{element.fechaEmision}} </td>
      </ng-container>
      <ng-container matColumnDef="total">
        <th mat-header-cell *matHeaderCellDef class="subtitulo-cuadrante center-text" style="text-align: center; vertical-align: middle;"> total
        </th>
        <td mat-cell *matCellDef="let element" style=" text-align: center;  padding: 8px; vertical-align: middle;">
          {{element.total}} </td>
      </ng-container>
      <ng-container matColumnDef="cancelacion">
        <th mat-header-cell *matHeaderCellDef class="subtitulo-cuadrante center-text" style="text-align: center; vertical-align: middle;"> cancelación
        </th>
        <td mat-cell *matCellDef="let element" style=" text-align: -webkit-center;  padding: 8px; vertical-align: middle;">
          <div class="icon-detalle" (click)="cancelar()">
            <div class="img-cancelacion" style="padding-right: 15px;">&nbsp; </div>
          </div>

              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
          <div class="col-12" style="margin-top: 13px;">
            <mat-divider></mat-divider>
          </div>
          <div class="col-12" *ngIf="listaResultado?.length> 0">
            <div class="col-6"
              style="margin: 0; padding: 0; font-weight: 600; font-size: 10px; letter-spacing: 3px; color: #7B8AA0; padding-top: 7px;">
              Mostrando pág {{ this.pager?.current }} de {{ this.pager?.total }} de
              {{ this.pager?.data.length }} resultados
            </div>
            <div class="col 6">
              <app-pager [pageModel]="pager" (paged)="onPaged($event)" style="float: right;"></app-pager>
            </div>
          </div>


        </div>




            





                </div>










              </div>

            </form>

          </div>
          <div class="col-1"></div>
        </div>
      </div>
    </div>
  </div>
</div>